{"version":3,"file":"nanogrid.js","sources":["../src/js/nano_helpers.js","../src/js/nano_btn.js","../src/js/nano_caja.js","../src/js/nano_code.js","../src/js/nano_desplazador.js","../src/js/nano_dropdown.js","../src/js/nano_fila.js","../src/js/nano_icono.js","../src/js/nano_pilar.js","../src/js/nano_pill.js","../src/js/nano_video.js","../src/nanogrid.js"],"sourcesContent":["const nano = 'nn-'\n\nfunction getPrefix(name) {\n  return [nano, name].join('')\n}\n\nfunction hexToRgb(hex) {\n  let c = hex.replace('#', '')\n  if (c.length === 3)\n    c = c\n      .split('')\n      .map(x => x + x)\n      .join('')\n  const [r, g, b] = [0, 2, 4].map(i => parseInt(c.slice(i, i + 2), 16))\n  return { r, g, b }\n}\n\nfunction textColorFromBackground(bgHex, threshold = 0.5) {\n  const { r, g, b } = hexToRgb(bgHex)\n  const luminance = (0.2126 * r + 0.7152 * g + 0.0722 * b) / 255\n  return luminance > threshold ? '#222' : '#eee'\n}\n\nexport { nano, getPrefix, textColorFromBackground }\n","import { textColorFromBackground } from './nano_helpers.js'\n\nexport default class nnBtn extends HTMLElement {\n  static attrs = ['color', 'link']\n  static get observedAttributes() {\n    return this.attrs\n  }\n\n  static tag = 'btn'\n\n  #initialContent = null\n  #rendered = false\n\n  connectedCallback() {\n    if (!this.#rendered) {\n      requestAnimationFrame(() => {\n        if (!this.#initialContent) {\n          this.#initialContent = document.createDocumentFragment()\n          while (this.firstChild) {\n            this.#initialContent.appendChild(this.firstChild)\n          }\n        }\n        this.#render()\n        this.#rendered = true\n      })\n    }\n  }\n\n  attributeChangedCallback(name) {\n    if (this.constructor.attrs.includes(name)) {\n      this.#render()\n    }\n  }\n\n  #render() {\n    if (!this.#initialContent) return\n\n    // Check if user already provided a semantic wrapper like <a> or <button>\n    const hasCustomStructure = Array.from(this.#initialContent.childNodes).some(\n      node =>\n        node.nodeType === Node.ELEMENT_NODE &&\n        ['A', 'BUTTON'].includes(node.tagName)\n    )\n\n    // If so, just render the custom structure without injecting our wrapper\n    if (hasCustomStructure) {\n      this.innerHTML = ''\n      this.appendChild(this.#initialContent.cloneNode(true))\n\n      // Still apply color styles\n      const color = this.getAttribute('color')\n      if (color) {\n        const textColor = textColorFromBackground(color)\n        this.style.setProperty('--nn-btn-text-color', textColor)\n        this.style.setProperty('--nn-btn-color', color)\n      }\n\n      return\n    }\n\n    // Default behavior: wrap content in <button> or <a>\n    const color = this.getAttribute('color')\n    const isLink = this.hasAttribute('link')\n\n    this.innerHTML = ''\n\n    const el = document.createElement(isLink ? 'a' : 'button')\n    if (!isLink) el.type = 'button'\n\n    if (color) {\n      const textColor = textColorFromBackground(color)\n      this.style.setProperty('--nn-btn-text-color', textColor)\n      this.style.setProperty('--nn-btn-color', color)\n    }\n\n    const doNotForward = [...this.constructor.attrs, 'class', 'style', 'id']\n    const attrs = [...this.attributes].filter(\n      attr => !doNotForward.includes(attr.name)\n    )\n\n    attrs.forEach(attr => {\n      el.setAttribute(attr.name, attr.value)\n    })\n\n    el.appendChild(this.#initialContent.cloneNode(true))\n    this.appendChild(el)\n  }\n}\n","export default class nnCaja extends HTMLElement {\n  constructor() {\n    super()\n  }\n\n  static tag = 'caja'\n\n  static attrs = ['padding', 'max-width']\n\n  static get observedAttributes() {\n    return this.attrs\n  }\n\n  #updateAttrs() {\n    for (const name of this.constructor.attrs) {\n      const value = this.getAttribute(name)\n      if (value !== null) {\n        this.style.setProperty(`--nn-caja-${name}`, value)\n      }\n    }\n  }\n\n  connectedCallback() {\n    this.#updateAttrs()\n  }\n\n  attributeChangedCallback(name) {\n    if (this.constructor.attrs.includes(name)) {\n      this.#updateAttrs()\n    }\n  }\n}\n","export default class nnCode extends HTMLElement {\n  constructor() {\n    super()\n  }\n\n  static tag = 'code'\n\n  static spirit(word, klaso) {\n    return `<span class='nn-${klaso}'>${word}</span>`\n  }\n\n  static #ESCAPE_MAP = {\n    '\\n': 'n-line',\n    '\\t': 'tab',\n    ' ': 'space',\n    '<': 'lt',\n    '>': 'gt',\n    '&': 'amp',\n    '/': 'slash',\n    '*': 'asterik',\n    \"'\": 's-quote',\n    '\"': 'd-quote',\n    '`': 'acute',\n    '(': 'parenthesis-o',\n    '[': 'bracket-o',\n    '{': 'brace-o',\n    ')': 'parenthesis-c',\n    ']': 'bracket-c',\n    '}': 'brace-c',\n  }\n\n  static #REVERSE_ESCAPE_MAP = Object.fromEntries(\n    Object.entries(nnCode.#ESCAPE_MAP).map(([char, name]) => [\n      `♥♥${name}♥♥`,\n      char,\n    ])\n  )\n\n  static #escapeChar(char) {\n    return `♥♥${nnCode.#ESCAPE_MAP[char]}♥♥`\n  }\n\n  static compressText(text) {\n    return text\n      .trim()\n      .replace(/[\\n\\t <>&/*'\"`(){}\\[\\]]/g, char => nnCode.#escapeChar(char))\n  }\n\n  static decompressText(text) {\n    for (const [pattern, original] of Object.entries(\n      nnCode.#REVERSE_ESCAPE_MAP\n    )) {\n      const replaceWith = pattern.includes('n-line')\n        ? `${nnCode.spirit('', 'n-line')}<br>`\n        : pattern.includes('tab')\n        ? nnCode.spirit('', 'tab')\n        : pattern.includes('space')\n        ? nnCode.spirit('', 'space')\n        : `&#${original.charCodeAt(0)};`\n\n      text = text.replaceAll(pattern, replaceWith)\n    }\n    return text\n  }\n\n  static formatJs(text) {\n    let processed = nnCode.compressText(text)\n\n    processed = processed.replace(\n      /(♥♥(?:s-quote|d-quote|acute)♥♥).*?(♥♥(?:s-quote|d-quote|acute)♥♥)/g,\n      match => nnCode.spirit(match, 'string')\n    )\n\n    processed = processed.replace(/(♥♥slash♥♥){2}.*?(♥♥n-line♥♥)/g, match =>\n      nnCode.spirit(match, 'comment')\n    )\n\n    processed = processed.replace(\n      /(♥♥slash♥♥)(♥♥asterik♥♥).*?(♥♥asterik♥♥)(♥♥slash♥♥)/g,\n      match => nnCode.spirit(match, 'comment')\n    )\n\n    processed = processed.replace(/\\b(new|import|from|get|set)\\b/g, match =>\n      nnCode.spirit(match, 'reserved')\n    )\n\n    processed = processed.replace(/\\b(true|false|null|undefined)\\b/g, match =>\n      nnCode.spirit(match, 'boolean')\n    )\n\n    processed = processed.replace(/[+-]?(\\d+)?\\.?\\d+/g, match =>\n      nnCode.spirit(match, 'number')\n    )\n\n    processed = processed.replace(/(♥♥lt♥♥).*?(♥♥gt♥♥)/g, match =>\n      nnCode.spirit(match, 'type')\n    )\n\n    processed = processed.replace(\n      /♥♥(parenthesis-[oc]|bracket-[oc]|brace-[oc])♥♥/g,\n      match => nnCode.spirit(match, 'parenthesis')\n    )\n\n    return nnCode.decompressText(processed)\n  }\n\n  connectedCallback() {\n    this.innerHTML = nnCode.formatJs(this.innerHTML)\n  }\n}\n","export default class nnDesplazador extends HTMLElement {\n  constructor() {\n    super()\n  }\n\n  static tag = 'desplazador'\n}\n","export default class nnDropdown extends HTMLElement {\n  constructor() {\n    super()\n    this.open = false\n    this.toggle = this.toggle.bind(this)\n    this.handleOutsideClick = this.handleOutsideClick.bind(this)\n  }\n\n  static tag = 'dropdown'\n\n  connectedCallback() {\n    this.slot = this.innerHTML\n    this.innerHTML = `\n      <button type=\"button\" class=\"dropdown-trigger\"></button>\n      <div class=\"dropdown-content\">${this.slot}</div>\n    `\n    this.querySelector('.dropdown-trigger')?.addEventListener(\n      'click',\n      this.toggle\n    )\n    document.addEventListener('click', this.handleOutsideClick)\n\n    this.#updateLabel()\n    this.#updateIcon()\n  }\n\n  disconnectedCallback() {\n    document.removeEventListener('click', this.handleOutsideClick)\n  }\n\n  toggle(e) {\n    e.stopPropagation()\n    this.open = !this.open\n    this.classList.toggle('open', this.open)\n  }\n\n  handleOutsideClick(e) {\n    if (!this.contains(e.target)) {\n      this.open = false\n      this.classList.remove('open')\n    }\n  }\n\n  #updateLabel() {\n    const label = this.getAttribute('label')\n    if (label) {\n      const btnTrigger = this.querySelector('.dropdown-trigger')\n      btnTrigger.innerHTML = `${label} ▼`\n    }\n  }\n\n  #updateIcon() {\n    const icon = this.getAttribute('icon')\n    if (icon) {\n      const btnTrigger = this.querySelector('.dropdown-trigger')\n      btnTrigger.innerHTML = `<nn-icono class=\"${icon}\"><nn-icono> ▼`\n    }\n  }\n}\n","export default class nnFila extends HTMLElement {\n  constructor() {\n    super()\n  }\n\n  static tag = 'fila'\n\n  static attrs = ['gap', 'padding-inline']\n\n  static get observedAttributes() {\n    return this.attrs\n  }\n\n  #updateAttrs() {\n    for (const name of this.constructor.attrs) {\n      const value = this.getAttribute(name)\n      if (value !== null) {\n        this.style.setProperty(`--nn-fila-${name}`, value)\n      }\n    }\n  }\n\n  connectedCallback() {\n    this.#updateAttrs()\n  }\n\n  attributeChangedCallback(name) {\n    if (this.constructor.attrs.includes(name)) {\n      this.#updateAttrs()\n    }\n  }\n}\n","export default class nnIcono extends HTMLElement {\n  constructor() {\n    super()\n  }\n\n  static tag = 'icono'\n\n  static get observedAttributes() {\n    return ['rotate']\n  }\n\n  #updateRotation() {\n    const attr = this.getAttribute('rotate')\n    if (attr) {\n      this.style.setProperty('--nn-icono-direction', attr)\n    }\n  }\n\n  connectedCallback() {\n    this.#updateRotation()\n  }\n\n  attributeChangedCallback(name) {\n    if (name === 'rotate') {\n      this.#updateRotation()\n    }\n  }\n}\n","export default class nnPilar extends HTMLElement {\n  constructor() {\n    super()\n  }\n\n  static tag = 'pilar'\n\n  static get observedAttributes() {\n    return ['size']\n  }\n\n  #updateSize() {\n    const attr = this.getAttribute('size')\n    if (attr) {\n      const isCalc = /[-+*/]/.test(attr)\n      this.style.setProperty('--nn-pilar-size', isCalc ? `calc(${attr})` : attr)\n    }\n  }\n\n  connectedCallback() {\n    this.#updateSize()\n  }\n\n  attributeChangedCallback(name) {\n    if (name === 'size') {\n      this.#updateSize()\n    }\n  }\n}\n","import { textColorFromBackground } from './nano_helpers.js'\n\nexport default class nnPill extends HTMLElement {\n  constructor() {\n    super()\n  }\n\n  static attrs = ['color', 'text-color']\n\n  static get observedAttributes() {\n    return this.attrs\n  }\n\n  static tag = 'pill'\n\n  connectedCallback() {\n    this.#render()\n  }\n\n  attributeChangedCallback(name) {\n    if (this.constructor.attrs.includes(name)) {\n      this.#render()\n    }\n  }\n\n  #render() {\n    const color = this.getAttribute('color')\n    const tcolor = this.getAttribute('text-color')\n\n    if (color !== null) {\n      this.style.setProperty(`--nn-pill-color`, color)\n    }\n    if (tcolor !== null) {\n      this.style.setProperty(`--nn-pill-text-color`, tcolor)\n    } else {\n      this.style.setProperty(\n        `--nn-pill-text-color`,\n        textColorFromBackground(color || '#333333')\n      )\n    }\n  }\n}\n","export default class nnVideo extends HTMLElement {\n  constructor() {\n    super()\n\n    if (!this.querySelector('video')) {\n      const video = document.createElement('video')\n      video.controls = true\n      video.preload = 'metadata'\n      video.loading = 'lazy'\n\n      const source = document.createElement('source')\n      video.appendChild(source)\n\n      video.appendChild(\n        document.createTextNode('Your browser does not support the video tag.')\n      )\n\n      this.appendChild(video)\n    }\n\n    this.$video = this.querySelector('video')\n    this.$source = this.querySelector('source')\n  }\n\n  static tag = 'video'\n\n  static get observedAttributes() {\n    return ['url', 'format', 'width']\n  }\n\n  connectedCallback() {\n    this.#update()\n  }\n\n  attributeChangedCallback() {\n    this.#update()\n  }\n\n  #update() {\n    const url = this.getAttribute('url')\n    const format = this.getAttribute('format') || 'video/mp4'\n    const width = this.getAttribute('width')\n\n    if (url) this.$source.src = url\n    this.$source.type = format\n    if (width) this.$video.width = width\n  }\n}\n","import { getPrefix } from './js/nano_helpers.js'\n\nimport nnBtn from './js/nano_btn.js'\nimport nnCaja from './js/nano_caja.js'\nimport nnCode from './js/nano_code.js'\nimport nnDesplazador from './js/nano_desplazador.js'\nimport nnDropdown from './js/nano_dropdown.js'\nimport nnFila from './js/nano_fila.js'\nimport nnIcono from './js/nano_icono.js'\nimport nnPilar from './js/nano_pilar.js'\nimport nnPill from './js/nano_pill.js'\nimport nnVideo from './js/nano_video.js'\n;[\n  nnBtn,\n  nnCaja,\n  nnCode,\n  nnDesplazador,\n  nnDropdown,\n  nnFila,\n  nnIcono,\n  nnPilar,\n  nnPill,\n  nnVideo,\n].forEach(comp => {\n  const tag = getPrefix(comp.tag)\n  if (!customElements.get(tag)) {\n    customElements.define(tag, comp)\n  }\n})\n\nexport default {\n  nnBtn,\n  nnCaja,\n  nnCode,\n  nnDesplazador,\n  nnDropdown,\n  nnFila,\n  nnIcono,\n  nnPilar,\n  nnPill,\n  nnVideo,\n}\n"],"names":["nano","getPrefix","name","hexToRgb","hex","c","x","r","g","b","i","textColorFromBackground","bgHex","threshold","nnBtn","#initialContent","#rendered","#render","node","color","textColor","isLink","el","doNotForward","attr","nnCaja","#updateAttrs","value","nnCode","word","klaso","#ESCAPE_MAP","#REVERSE_ESCAPE_MAP","char","#escapeChar","text","pattern","original","replaceWith","processed","match","nnDesplazador","nnDropdown","#updateLabel","#updateIcon","e","label","btnTrigger","icon","nnFila","nnIcono","#updateRotation","nnPilar","#updateSize","isCalc","nnPill","tcolor","nnVideo","video","source","#update","url","format","width","comp","tag","nanogrid"],"mappings":"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"}